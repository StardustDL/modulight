@inject IRazorComponentClientModuleCollection ModuleHost

@ComponentDeclared()

@code{
    private RenderFragment ComponentDeclared() => builder =>
    {
        foreach (var c in ModuleHost.DefinedModules)
        {
            foreach (var r in ModuleHost.GetManifest(c).GlobalComponents)
            {
                builder.OpenComponent(0, r);
                builder.CloseComponent();
            }
        }
    };
}
